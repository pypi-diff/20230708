# Comparing `tmp/hat_monitor-0.7.1-cp38.cp39.cp310-none-any.whl.zip` & `tmp/hat_monitor-0.7.2-cp310.cp311-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,30 +1,30 @@
-Zip file size: 507837 bytes, number of entries: 28
+Zip file size: 507983 bytes, number of entries: 28
 -rw-r--r--  2.0 unx       40 b- defN 21-Jan-14 20:29 hat/monitor/__init__.py
--rw-r--r--  2.0 unx    10754 b- defN 22-Oct-13 17:13 hat/monitor/client.py
--rw-r--r--  2.0 unx     4403 b- defN 22-Aug-29 19:01 hat/monitor/common.py
--rw-r--r--  2.0 unx     3651 b- defN 23-Feb-23 20:36 hat/monitor/json_schema_repo.json
--rw-r--r--  2.0 unx     3528 b- defN 23-Feb-23 20:36 hat/monitor/sbs_repo.json
+-rw-r--r--  2.0 unx    10757 b- defN 23-Jul-08 19:31 hat/monitor/client.py
+-rw-r--r--  2.0 unx     4474 b- defN 23-Jul-08 19:34 hat/monitor/common.py
+-rw-r--r--  2.0 unx     3651 b- defN 23-Jul-08 19:43 hat/monitor/json_schema_repo.json
+-rw-r--r--  2.0 unx     3528 b- defN 23-Jul-08 19:43 hat/monitor/sbs_repo.json
 -rw-r--r--  2.0 unx       21 b- defN 21-Jan-14 20:29 hat/monitor/server/__init__.py
 -rw-r--r--  2.0 unx      135 b- defN 21-Apr-08 11:27 hat/monitor/server/__main__.py
--rw-r--r--  2.0 unx     3781 b- defN 22-Sep-20 11:50 hat/monitor/server/blessing.py
--rw-r--r--  2.0 unx     1452 b- defN 22-Jun-23 13:10 hat/monitor/server/common.py
--rw-r--r--  2.0 unx     3535 b- defN 22-Oct-12 15:58 hat/monitor/server/main.py
--rw-r--r--  2.0 unx     6497 b- defN 22-Oct-18 16:41 hat/monitor/server/master.py
--rw-r--r--  2.0 unx     8161 b- defN 22-Oct-18 16:39 hat/monitor/server/server.py
--rw-r--r--  2.0 unx     5903 b- defN 22-Oct-12 15:56 hat/monitor/server/slave.py
--rw-r--r--  2.0 unx     3258 b- defN 22-Nov-02 20:01 hat/monitor/server/ui.py
+-rw-r--r--  2.0 unx     3746 b- defN 23-Jul-08 19:35 hat/monitor/server/blessing.py
+-rw-r--r--  2.0 unx     1439 b- defN 23-Jul-08 19:35 hat/monitor/server/common.py
+-rw-r--r--  2.0 unx     3536 b- defN 23-Jul-08 19:35 hat/monitor/server/main.py
+-rw-r--r--  2.0 unx     6547 b- defN 23-Jul-08 19:36 hat/monitor/server/master.py
+-rw-r--r--  2.0 unx     8141 b- defN 23-Jul-08 19:37 hat/monitor/server/server.py
+-rw-r--r--  2.0 unx     5870 b- defN 23-Jul-08 19:38 hat/monitor/server/slave.py
+-rw-r--r--  2.0 unx     3306 b- defN 23-Jul-08 19:39 hat/monitor/server/ui.py
 -rw-r--r--  2.0 unx   152126 b- defN 20-Apr-01 02:48 hat/monitor/server/ui/favicon.ico
 -rw-r--r--  2.0 unx      155 b- defN 22-Feb-08 19:08 hat/monitor/server/ui/index.html
--rw-r--r--  2.0 unx   234098 b- defN 23-Feb-23 20:36 hat/monitor/server/ui/main.js
--rw-r--r--  2.0 unx   274916 b- defN 23-Feb-23 20:36 hat/monitor/server/ui/main.js.map
+-rw-r--r--  2.0 unx   234098 b- defN 23-Jul-08 19:43 hat/monitor/server/ui/main.js
+-rw-r--r--  2.0 unx   274916 b- defN 23-Jul-08 19:43 hat/monitor/server/ui/main.js.map
 -rw-r--r--  2.0 unx    77160 b- defN 22-Jun-23 13:10 hat/monitor/server/ui/fonts/FontAwesome/FontAwesome.woff2
 -rw-r--r--  2.0 unx   308048 b- defN 22-Jun-23 13:10 hat/monitor/server/ui/fonts/Inter/Inter.woff2
 -rw-r--r--  2.0 unx     4459 b- defN 20-Dec-18 22:39 hat/monitor/server/ui/fonts/Inter/OFL.txt
--rw-r--r--  2.0 unx    11358 b- defN 23-Feb-23 20:36 hat_monitor-0.7.1.dist-info/LICENSE
--rw-r--r--  2.0 unx     2056 b- defN 23-Feb-23 20:36 hat_monitor-0.7.1.dist-info/METADATA
--rw-r--r--  2.0 unx      132 b- defN 23-Feb-23 20:36 hat_monitor-0.7.1.dist-info/WHEEL
--rw-r--r--  2.0 unx       61 b- defN 23-Feb-23 20:36 hat_monitor-0.7.1.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        4 b- defN 23-Feb-23 20:36 hat_monitor-0.7.1.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 23-Feb-23 20:36 hat_monitor-0.7.1.dist-info/zip-safe
-?rw-rw-r--  2.0 unx     2441 b- defN 23-Feb-23 20:36 hat_monitor-0.7.1.dist-info/RECORD
-28 files, 1122134 bytes uncompressed, 503881 bytes compressed:  55.1%
+-rw-r--r--  2.0 unx    11358 b- defN 23-Jul-08 19:43 hat_monitor-0.7.2.dist-info/LICENSE
+-rw-r--r--  2.0 unx     2483 b- defN 23-Jul-08 19:43 hat_monitor-0.7.2.dist-info/METADATA
+-rw-r--r--  2.0 unx      114 b- defN 23-Jul-08 19:43 hat_monitor-0.7.2.dist-info/WHEEL
+-rw-r--r--  2.0 unx       61 b- defN 23-Jul-08 19:43 hat_monitor-0.7.2.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        4 b- defN 23-Jul-08 19:43 hat_monitor-0.7.2.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-Jul-08 19:43 hat_monitor-0.7.2.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     2441 b- defN 23-Jul-08 19:43 hat_monitor-0.7.2.dist-info/RECORD
+28 files, 1122615 bytes uncompressed, 504027 bytes compressed:  55.1%
```

## zipnote {}

```diff
@@ -57,29 +57,29 @@
 
 Filename: hat/monitor/server/ui/fonts/Inter/Inter.woff2
 Comment: 
 
 Filename: hat/monitor/server/ui/fonts/Inter/OFL.txt
 Comment: 
 
-Filename: hat_monitor-0.7.1.dist-info/LICENSE
+Filename: hat_monitor-0.7.2.dist-info/LICENSE
 Comment: 
 
-Filename: hat_monitor-0.7.1.dist-info/METADATA
+Filename: hat_monitor-0.7.2.dist-info/METADATA
 Comment: 
 
-Filename: hat_monitor-0.7.1.dist-info/WHEEL
+Filename: hat_monitor-0.7.2.dist-info/WHEEL
 Comment: 
 
-Filename: hat_monitor-0.7.1.dist-info/entry_points.txt
+Filename: hat_monitor-0.7.2.dist-info/entry_points.txt
 Comment: 
 
-Filename: hat_monitor-0.7.1.dist-info/top_level.txt
+Filename: hat_monitor-0.7.2.dist-info/top_level.txt
 Comment: 
 
-Filename: hat_monitor-0.7.1.dist-info/zip-safe
+Filename: hat_monitor-0.7.2.dist-info/zip-safe
 Comment: 
 
-Filename: hat_monitor-0.7.1.dist-info/RECORD
+Filename: hat_monitor-0.7.2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## hat/monitor/client.py

```diff
@@ -58,21 +58,22 @@
 import logging
 import typing
 
 from hat import aio
 from hat import chatter
 from hat import json
 from hat import util
+
 from hat.monitor import common
 
 
 mlog: logging.Logger = logging.getLogger(__name__)
 """Module logger"""
 
-RunCb = typing.Callable[..., typing.Awaitable]
+RunCb: typing.TypeAlias = typing.Callable[..., typing.Awaitable]
 """Component run callback coroutine
 
 First argument is component instance and remaining arguments are one provided
 during component initialization.
 
 """
 
@@ -110,20 +111,20 @@
 
     @property
     def async_group(self) -> aio.Group:
         """Async group"""
         return self._conn.async_group
 
     @property
-    def info(self) -> typing.Optional[common.ComponentInfo]:
+    def info(self) -> common.ComponentInfo | None:
         """Client's component info"""
         return self._info
 
     @property
-    def components(self) -> typing.List[common.ComponentInfo]:
+    def components(self) -> common.ComponentInfo | None:
         """Global component state"""
         return self._components
 
     def register_change_cb(self,
                            cb: typing.Callable[[], None]
                            ) -> util.RegisterCallbackHandle:
         """Register change callback
```

## hat/monitor/common.py

```diff
@@ -4,40 +4,42 @@
 import typing
 
 from hat import chatter
 from hat import json
 from hat import sbs
 
 
-with importlib.resources.path(__package__, 'json_schema_repo.json') as _path:
+with importlib.resources.as_file(importlib.resources.files(__package__) /
+                                 'json_schema_repo.json') as _path:
     json_schema_repo: json.SchemaRepository = json.SchemaRepository(
         json.json_schema_repo,
         json.SchemaRepository.from_json(_path))
 
-with importlib.resources.path(__package__, 'sbs_repo.json') as _path:
+with importlib.resources.as_file(importlib.resources.files(__package__) /
+                                 'sbs_repo.json') as _path:
     sbs_repo: sbs.Repository = sbs.Repository(
         chatter.sbs_repo,
         sbs.Repository.from_json(_path))
 
 
 class BlessingReq(typing.NamedTuple):
-    token: typing.Optional[int]
-    timestamp: typing.Optional[float]
+    token: int | None
+    timestamp: float | None
 
 
 class BlessingRes(typing.NamedTuple):
-    token: typing.Optional[int]
+    token: int | None
     ready: bool
 
 
 class ComponentInfo(typing.NamedTuple):
     cid: int
     mid: int
-    name: typing.Optional[str]
-    group: typing.Optional[str]
+    name: str | None
+    group: str | None
     data: json.Data
     rank: int
     blessing_req: BlessingReq
     blessing_res: BlessingRes
 
 
 class MsgClient(typing.NamedTuple):
@@ -46,15 +48,15 @@
     data: json.Data
     blessing_res: BlessingRes
 
 
 class MsgServer(typing.NamedTuple):
     cid: int
     mid: int
-    components: typing.List[ComponentInfo]
+    components: list[ComponentInfo]
 
 
 def blessing_req_to_sbs(blessing: BlessingReq) -> sbs.Data:
     """Convert blessing request to SBS data"""
     return {'token': _value_to_sbs_optional(blessing.token),
             'timestamp': _value_to_sbs_optional(blessing.timestamp)}
```

## hat/monitor/server/blessing.py

```diff
@@ -1,23 +1,22 @@
 """Implementation of blessing calculation algorithms"""
 
 import itertools
 import time
-import typing
 
 from hat.monitor.server import common
 
 
 _next_tokens = itertools.count(1)
 
 
-def calculate(components: typing.List[common.ComponentInfo],
-              group_algorithms: typing.Dict[str, common.Algorithm],
+def calculate(components: list[common.ComponentInfo],
+              group_algorithms: dict[str, common.Algorithm],
               default_algorithm: common.Algorithm
-              ) -> typing.List[common.ComponentInfo]:
+              ) -> list[common.ComponentInfo]:
     """Calculate blessing
 
     Args:
         components: components state with previous blessing tokens
         group_algorithms: association of algorithm to group
         default_algorithm: default algorithm
```

## hat/monitor/server/common.py

```diff
@@ -1,32 +1,33 @@
 """Common functionality"""
 
+from hat.monitor.common import *  # NOQA
+
 import enum
 import typing
 
 from hat import sbs
 
 from hat.monitor.common import (ComponentInfo,
                                 component_info_to_sbs,
                                 component_info_from_sbs)
-from hat.monitor.common import *  # NOQA
 
 
 class Algorithm(enum.Enum):
     BLESS_ALL = 'BLESS_ALL'
     BLESS_ONE = 'BLESS_ONE'
 
 
 class MsgSlave(typing.NamedTuple):
-    components: typing.List[ComponentInfo]
+    components: list[ComponentInfo]
 
 
 class MsgMaster(typing.NamedTuple):
     mid: int
-    components: typing.List[ComponentInfo]
+    components: list[ComponentInfo]
 
 
 def msg_slave_to_sbs(msg: MsgSlave) -> sbs.Data:
     """Convert MsgSlave to SBS data"""
     return {'components': [component_info_to_sbs(info)
                            for info in msg.components]}
```

## hat/monitor/server/main.py

```diff
@@ -7,14 +7,15 @@
 import logging.config
 import sys
 
 import appdirs
 
 from hat import aio
 from hat import json
+
 from hat.monitor.server import common
 import hat.monitor.server.master
 import hat.monitor.server.server
 import hat.monitor.server.slave
 import hat.monitor.server.ui
```

## hat/monitor/server/master.py

```diff
@@ -5,24 +5,26 @@
 import logging
 import typing
 
 from hat import aio
 from hat import chatter
 from hat import json
 from hat import util
+
 from hat.monitor.server import blessing
 from hat.monitor.server import common
 import hat.monitor.server.server
 
 
 mlog: logging.Logger = logging.getLogger(__name__)
 """Module logger"""
 
 
-ChangeCb = typing.Callable[[typing.List[common.ComponentInfo]], None]
+ChangeCb: typing.TypeAlias = typing.Callable[[list[common.ComponentInfo]],
+                                             None]
 
 
 async def create(conf: json.Data
                  ) -> 'Master':
     """Create master
 
     Args:
@@ -55,15 +57,15 @@
 
     @property
     def async_group(self) -> aio.Group:
         """Async group"""
         return self._srv.async_group
 
     @property
-    def components(self) -> typing.List[common.ComponentInfo]:
+    def components(self) -> list[common.ComponentInfo]:
         """Global components"""
         return self._components
 
     def register_change_cb(self,
                            cb: ChangeCb
                            ) -> util.RegisterCallbackHandle:
         """Register change callback
```

## hat/monitor/server/server.py

```diff
@@ -6,14 +6,15 @@
 import logging
 import typing
 
 from hat import aio
 from hat import chatter
 from hat import json
 from hat import util
+
 from hat.monitor.server import common
 
 
 mlog: logging.Logger = logging.getLogger(__name__)
 """Module logger"""
 
 close_timeout: float = 3
@@ -61,20 +62,20 @@
 
     @property
     def mid(self) -> int:
         """Server's monitor id"""
         return self._mid
 
     @property
-    def local_components(self) -> typing.List[common.ComponentInfo]:
+    def local_components(self) -> list[common.ComponentInfo]:
         """Local components"""
         return self._local_components
 
     @property
-    def global_components(self) -> typing.List[common.ComponentInfo]:
+    def global_components(self) -> list[common.ComponentInfo]:
         """Global components"""
         return self._global_components
 
     def register_change_cb(self,
                            cb: typing.Callable[[], None]
                            ) -> util.RegisterCallbackHandle:
         """Register change callback
@@ -83,15 +84,15 @@
         global_components property changes.
 
         """
         return self._change_cbs.register(cb)
 
     def update(self,
                mid: int,
-               global_components: typing.List[common.ComponentInfo]):
+               global_components: list[common.ComponentInfo]):
         """Update server's monitor id and global components"""
         if self._mid == mid and self._global_components == global_components:
             return
 
         self._mid = mid
         self._global_components = global_components
```

## hat/monitor/server/slave.py

```diff
@@ -1,18 +1,18 @@
 """Slave communication implementation"""
 
 import asyncio
 import contextlib
 import itertools
 import logging
-import typing
 
 from hat import aio
 from hat import chatter
 from hat import json
+
 from hat.monitor.server import common
 import hat.monitor.server.master
 import hat.monitor.server.server
 
 
 mlog: logging.Logger = logging.getLogger(__name__)
 """Module logger"""
@@ -92,17 +92,17 @@
             mlog.debug('stopping run')
             self.close()
             await aio.uncancellable(cleanup())
 
 
 async def connect(addresses: str,
                   connect_timeout: float,
-                  connect_retry_count: typing.Optional[int],
+                  connect_retry_count: int | None,
                   connect_retry_delay: float
-                  ) -> typing.Optional[chatter.Connection]:
+                  ) -> chatter.Connection | None:
     """Establish connection with remote master"""
     counter = (range(connect_retry_count) if connect_retry_count
                else itertools.repeat(None))
     for count in counter:
         for address in addresses:
             with contextlib.suppress(Exception):
                 try:
```

## hat/monitor/server/ui.py

```diff
@@ -32,15 +32,16 @@
     """
     srv = WebServer()
     srv._server = server
 
     exit_stack = contextlib.ExitStack()
     try:
         ui_path = exit_stack.enter_context(
-            importlib.resources.path(__package__, 'ui'))
+            importlib.resources.as_file(
+                importlib.resources.files(__package__) / 'ui'))
 
         state = json.Storage()
         update_state = functools.partial(_update_state, state, server)
         exit_stack.enter_context(server.register_change_cb(update_state))
         update_state()
 
         addr = urllib.parse.urlparse(conf['address'])
```

## Comparing `hat_monitor-0.7.1.dist-info/LICENSE` & `hat_monitor-0.7.2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `hat_monitor-0.7.1.dist-info/METADATA` & `hat_monitor-0.7.2.dist-info/METADATA`

 * *Files 22% similar despite different names*

```diff
@@ -1,61 +1,92 @@
 Metadata-Version: 2.1
 Name: hat-monitor
-Version: 0.7.1
+Version: 0.7.2
 Summary: Hat monitor
 Home-page: https://github.com/hat-open/hat-monitor
 License: Apache-2.0
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: Apache Software License
-Requires-Python: >=3.8
+Requires-Python: >=3.10
 Description-Content-Type: text/x-rst
 License-File: LICENSE
 Requires-Dist: appdirs (~=1.4.4)
-Requires-Dist: hat-aio (~=0.7.4)
-Requires-Dist: hat-chatter (~=0.5.10)
-Requires-Dist: hat-json (~=0.5.15)
-Requires-Dist: hat-juggler (~=0.6.10)
-Requires-Dist: hat-sbs (~=0.6.3)
-Requires-Dist: hat-util (~=0.6.7)
+Requires-Dist: hat-aio (~=0.7.8)
+Requires-Dist: hat-chatter (~=0.5.11)
+Requires-Dist: hat-json (~=0.5.19)
+Requires-Dist: hat-juggler (~=0.6.11)
+Requires-Dist: hat-sbs (~=0.6.4)
+Requires-Dist: hat-util (~=0.6.10)
+
+.. _online documentation: https://hat-monitor.hat-open.com
+.. _git repository: https://github.com/hat-open/hat-monitor.git
+.. _PyPI project: https://pypi.org/project/hat-monitor
+.. _pydoit: https://pydoit.org
+.. _Hat Open: https://hat-open.com
+.. _Končar Digital: https://www.koncar.hr/en
+
 
 hat-monitor - Monitor server and client
 =======================================
 
-This component is part of Hat Open project - open-source framework of tools and
-libraries for developing applications used for remote monitoring, control and
-management of intelligent electronic devices such as IoT devices, PLCs,
-industrial automation or home automation systems.
-
-Development of Hat Open and associated repositories is sponsored by
-`Končar Digital <https://www.koncar.hr>`_.
-
 For more information see:
 
-    * hat-monitor documentation - `<https://hat-monitor.hat-open.com>`_
-    * hat-monitor git repository - `<https://github.com/hat-open/hat-monitor.git>`_
-    * Hat Open homepage - `<https://hat-open.com>`_
+* `online documentation`_
+* `git repository`_
+
 
-.. warning::
+Runtime requirements
+--------------------
 
-    This project is currently in state of active development. Features,
-    functionality and API are unstable.
+* python >=3.10
 
 
 Install
 -------
 
-::
+`hat-monitor` is available as `PyPI project`_::
 
     $ pip install hat-monitor
 
 
+Build
+-----
+
+Build tool used for `hat-monitor` is `pydoit`_. It can be installed
+together with other python dependencies by running::
+
+    $ pip install -r requirements.pip.dev.txt
+
+For listing available doit tasks, use::
+
+    $ doit list
+
+Default task::
+
+    $ doit
+
+creates wheel package inside `build` directory.
+
+
+Hat Open
+--------
+
+`hat-monitor` is part of `Hat Open`_ project - open-source framework of
+tools and libraries for developing applications used for remote monitoring,
+control and management of intelligent electronic devices such as IoT devices,
+PLCs, industrial automation or home automation systems.
+
+Development of Hat Open and associated repositories is sponsored by
+`Končar Digital`_.
+
+
 License
 -------
 
-Copyright 2020-2022 Hat Open AUTHORS
+Copyright 2020-2023 Hat Open AUTHORS
 
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 
     http://www.apache.org/licenses/LICENSE-2.0
```

